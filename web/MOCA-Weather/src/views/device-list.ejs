<!DOCTYPE html>
<html>

<head>
    <title> Devices </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4bd397',
                        secondary: '#3a736c',
                    },
                },
            },
        };
    </script>
</head>

<body class="bg-slate-900 flex flex-col items-start justify-center h-dvh text-slate-200">
    <nav class="w-full py-4 px-4 bg-slate-800 flex flex-row items-center justify-between z-10">
        <h1 class="text-2xl text-slate-100 font-bold">Devices</h1>
        <div>
            <a class="bg-secondary hover:bg-primary focus:bg-primary text-light font-bold py-2 px-4 mr-2 rounded focus:outline-none focus:shadow-outline"
                href="/device">Add a device</a>
            <a class="bg-secondary hover:bg-primary focus:bg-primary text-light font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                href="/">Go Back</a>
        </div>
    </nav>
    <div class="flex flex-row flex-wrap items-center justify-center w-full m-auto relative">
        <img src="/images/moca-verde.png" alt="Background" class="absolute m-auto z-0 w-2/5 object-cover object-center">

        <% devices.forEach(function(device) { %>
            <div
                class="backdrop-blur-sm bg-slate-800/85 shadow-md rounded-md px-4 pt-2 pb-4 my-4 mx-2 z-10 w-1/4 flex flex-col items-center justify-center">
                <h2 class="text-2xl font-semibold text-center w-full text-slate-100">
                    <%= device.name %>
                </h2>
                <div class="border-b border-slate-300 w-full my-4"></div>
                <p class="text-lg text-center">
                <p>
                    Username: <%= device.username %>
                </p>
                <p>
                    Host: <%= device.host %>
                </p>
                <p>
                    Port: <%= device.port %>
                </p>
                <a class="inline-block align-baseline font-bold text-md text-secondary hover:text-primary"
                    href="/device/<%= device.deviceId %>">
                    View gathered data
                </a>
                </p>
            </div>
            <% }); %>
    </div>
</body>

</html>